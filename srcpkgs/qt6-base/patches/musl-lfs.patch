--- a/mkspecs/common/posix/qplatformdefs.h
+++ b/mkspecs/common/posix/qplatformdefs.h
@@ -14,6 +14,10 @@
 
 #if defined(QT_USE_XOPEN_LFS_EXTENSIONS) && defined(QT_LARGEFILE_SUPPORT)
 
+#if !defined(__GLIBC__) && !defined(_LARGEFILE64_SOURCE)
+#define _LARGEFILE64_SOURCE
+#endif
+
 #define QT_STATBUF              struct stat64
 #define QT_FPOS_T               fpos64_t
 #define QT_OFF_T                off64_t
