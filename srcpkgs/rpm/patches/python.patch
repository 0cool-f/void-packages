--- a/python/header-py.c
+++ b/python/header-py.c
@@ -316,9 +316,9 @@ static PyObject * hdr_dsOfHeader(PyObjec
                                  "(Oi)", s, RPMTAG_NEVR);
 }
 
-static long hdr_hash(PyObject * h)
+static int hdr_hash(PyObject * h)
 {
-    return (long) h;
+    return (int) h;
 }
 
 static PyObject * hdr_reduce(hdrObject *s)
